<!doctype html>
<!--[if lt IE 7 ]><html itemscope itemtype="http://schema.org/Organization" id="ie6" class="ie ie-old" lang="en-US"><![endif]-->
<!--[if IE 7 ]>   <html itemscope itemtype="http://schema.org/Organization" id="ie7" class="ie ie-old" lang="en-US"><![endif]-->
<!--[if IE 8 ]>   <html itemscope itemtype="http://schema.org/Organization" id="ie8" class="ie ie-old" lang="en-US"><![endif]-->
<!--[if IE 9 ]>   <html itemscope itemtype="http://schema.org/Organization" id="ie9" class="ie" lang="en-US"><![endif]-->
<!--[if gt IE 9]><!--><html itemscope itemtype="http://schema.org/Organization" lang="en-US"><!--<![endif]-->
<head>
    <meta name="author" content="The Apache Software Foundation">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="/assets/themes/zeppelin/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="/assets/themes/zeppelin/css/style.css?body=1" rel="stylesheet" type="text/css">
    <link href="/assets/themes/zeppelin/css/syntax.css" rel="stylesheet"  type="text/css" media="screen" /> 

<!--
    <link href="/assets/themes/mahout/css/main.css" rel="stylesheet"  type="text/css" media="screen" /> 
    <link href="/assets/themes/mahout/css/global.css" rel="stylesheet"  type="text/css" media="screen" /> 
    <link href="/assets/themes/mahout/css/global__.css" rel="stylesheet"  type="text/css" media="screen" /> 
-->
    <!-- Le fav and touch icons -->
    <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- Js -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="/assets/themes/zeppelin/bootstrap/js/bootstrap.min.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
  </script>
  <script type="text/javascript">
    var mathjax = document.createElement('script'); 
    mathjax.type = 'text/javascript'; 
    mathjax.async = true;

    mathjax.src = ('https:' == document.location.protocol) ?
        'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML' : 
        'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    
      var s = document.getElementsByTagName('script')[0]; 
    s.parentNode.insertBefore(mathjax, s);
  </script>


    <!-- JavaScript 
        <script src="/assets/themes/zeppelin/js/medium.controller.js"></script>
    <script src="/assets/themes/zeppelin/js/moment.min.js"></script>
    <script src="/assets/themes/zeppelin/js/anchor.min.js"></script>
    <script src="/assets/themes/zeppelin/js/docs.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="http://scotch-io.github.io/js/power.js"></script>
    -->


    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">


</head>



<body class="">

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
            <img src="/assets/themes/mahout/img/mahout-logo.png" width="75" alt="I'm mahout">
            Apache Mahout
          </a>
        </div>
        <nav class="navbar-collapse collapse" role="navigation">
          <ul class="nav navbar-nav navbar-right">

            <!-- Quick Start -->
            <li id="quickstart">
              <a href="/docs/0.13.0/quickstart" >Quick Start</a>
            </li>         

             <li id="samsara">
           <!-- Samsara docs  
             old http://mahout.apache.org/users/sparkbindings/faq.html

           -->
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Mahout-Samsara<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><span><b>Reference Info</b><span></li>
                <li><a href="/docs/0.13.0/mahout-samsara/incore">In-core Reference</a></li>
                <li><a href="/docs/0.13.0/mahout-samsara/outofcore">Out-of-core Reference</a></li>
                <li><a href="/docs/0.13.0/mahout-samsara/faq">Samsara FAQ</a></li>
                <li role="separator" class="divider"></li>
                <li><span><b>Bindings</b><span></li>
                <li><a href="/docs/0.13.0/mahout-samsara/spark-bindings">Spark Bindings</a></li>
                <li><a href="/docs/0.13.0/mahout-samsara/flink-bindings">Flink Bindings</a></li>
                <li><a href="/docs/0.13.0/mahout-samsara/flink-bindings">H20 Bindings</a></li>
              </ul>
            </li>

             <li id="tutorials">
           <!-- Tutorials -->
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Tutorials<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><span><b>Spark Examples using Samsara</b><span></li>
                <li><a href="/docs/0.13.0/tutorials/samsara-spark-shell">Samsara in Spark Shell</a></li>
                <li><a href="/docs/0.13.0/tutorials/build-app">Samsara Spark Application</a></li>
                <li><a href="/docs/0.13.0/tutorials/text-classification">Text Classification</a></li>
                <li role="separator" class="divider"></li>
                <li><span><b>Fl</b><span></li>
                <li><a href="/docs/0.13.1-SNAPSHOT">tbd1</a></li>
                <li><a href="/docs/0.13.1-SNAPSHOT">tbd2</a></li>
                <li role="separator" class="divider"></li>
                <li><span><b>MapReduce</b><span></li>
                <li><a href="/docs/0.13.1-SNAPSHOT">tbd1</a></li>
                <li><a href="/docs/0.13.1-SNAPSHOT">tbd2</a></li>
              </ul>
            </li>


            <!-- Algorithms (Samsara / MR) -->
            <li id="algorithms">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Algorithms<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><span><b>Samsara Code</b><span></li>
                <li><a href="/docs/0.13.0/algorithms/samsara/dssvd">Dist SVD</a></li>
                <li><a href="/docs/0.13.0/algorithms/samsara/dspca">Dist PCA</a></li>
                <li><a href="/docs/0.13.0/algorithms/samsara/dqr">Dist QR</a></li>
                <li><a href="/docs/0.13.0/algorithms/samsara/dals">Dist ALS</a></li>
                <li role="separator" class="divider"></li>
                <li><span><b>Command Line</b><span></li>
                <li><a href="/docs/0.13.0">algo1</a></li>
                <li><a href="/docs/0.13.0">algo2</a></li>
                <li role="separator" class="divider"></li>
                <li><span><b>xxxx</b>&nbsp;(xxxxx)<span></li>
                <li><a href="/docs/0.13.1-SNAPSHOT">xxxxx</a></li>
              </ul>
            </li>

            <!-- Scala Docs -->
            <li id="scaladocs">
              <a href="tbd" data-toggle="dropdown" class="dropdown-toggle">Scala Docs<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li class="title"><span><b>TODO - Needs update per new scaladocs</b><span></li>
                <li><a href="http://apache.github.io/mahout/0.10.1/docs/mahout-math/index.html">Mahout Math</a></li>
                <li><a href="http://apache.github.io/mahout/0.10.1/docs/mahout-math-scala/index.html">Mahout Math Scala bindings</a></li>
                <li><a href="http://apache.github.io/mahout/0.10.1/docs/mahout-math/index.htmlhttp://apache.github.io/mahout/0.10.1/docs/mahout-spark/index.html">Mahout Spark bindings</a></li>
                <li><a href="http://apache.github.io/mahout/0.10.1/docs/mahout-math/index.html">Mahout Spark bindings shell</a></li>
                <li><a href="http://apache.github.io/mahout/0.10.1/docs/mahout-math/index.html">Mahout H2O backend Scaladoc</a></li>
                <li><a href="http://apache.github.io/mahout/0.10.1/docs/mahout-math/index.html">Mahout H2O backend Javadoc</a></li>
                <li><a href="http://apache.github.io/mahout/0.10.1/docs/mahout-math/index.html">Mahout HDFS</a></li>
                <li><a href="http://apache.github.io/mahout/0.10.1/docs/mahout-math/index.html">Mahout Map-Reduce</a></li>
                <li><a href="http://apache.github.io/mahout/0.10.1/docs/mahout-math/index.html">Mahout Examples</a></li>
                <li><a href="http://apache.github.io/mahout/0.10.1/docs/mahout-math/index.html">Mahout Integration</a></li>
              </ul>
            </li>



















        </ul>
        </nav><!--/.navbar-collapse -->
      </div>
    </div>

        <article>
        <div class="container">
            <div class="row">
                <div class="col-md-10 col-md-offset-1">
                    <h1 id="scala--spark-bindings">Scala &amp; Spark Bindings:</h1>
<p><em>Bringing algebraic semantics</em></p>

<h2 id="what-is-scala--spark-bindings">What is Scala &amp; Spark Bindings?</h2>

<p>In short, Scala &amp; Spark Bindings for Mahout is Scala DSL and algebraic optimizer of something like this (actual formula from <strong>(d)spca</strong>)</p>

<p><code>\[\mathbf{G}=\mathbf{B}\mathbf{B}^{\top}-\mathbf{C}-\mathbf{C}^{\top}+\mathbf{s}_{q}\mathbf{s}_{q}^{\top}\boldsymbol{\xi}^{\top}\boldsymbol{\xi}\]</code></p>

<p>bound to in-core and distributed computations (currently, on Apache Spark).</p>

<p>Mahout Scala &amp; Spark Bindings expression of the above:</p>

<pre><code>    val g = bt.t %*% bt - c - c.t + (s_q cross s_q) * (xi dot xi)
</code></pre>

<p>The main idea is that a scientist writing algebraic expressions cannot care less of distributed 
operation plans and works <strong>entirely on the logical level</strong> just like he or she would do with R.</p>

<p>Another idea is decoupling logical expression from distributed back-end. As more back-ends are added, 
this implies <strong>“write once, run everywhere”</strong>.</p>

<p>The linear algebra side works with scalars, in-core vectors and matrices, and Mahout Distributed
Row Matrices (DRMs).</p>

<p>The ecosystem of operators is built in the R’s image, i.e. it follows R naming such as %*%, 
colSums, nrow, length operating over vectors or matices.</p>

<p>Important part of Spark Bindings is expression optimizer. It looks at expression as a whole 
and figures out how it can be simplified, and which physical operators should be picked. For example,
there are currently about 5 different physical operators performing DRM-DRM multiplication
picked based on matrix geometry, distributed dataset partitioning, orientation etc. 
If we count in DRM by in-core combinations, that would be another 4, i.e. 9 total – all of it for just 
simple x %*% y logical notation.</p>

<p>Please refer to the documentation for details.</p>

<h2 id="status">Status</h2>

<p>This environment addresses mostly R-like Linear Algebra optmizations for 
Spark, Flink and H20.</p>

<h2 id="documentation">Documentation</h2>

<ul>
  <li>Scala and Spark bindings manual: <a href="http://apache.github.io/mahout/doc/ScalaSparkBindings.html">web</a>, <a href="ScalaSparkBindings.pdf">pdf</a></li>
  <li>Overview blog on 0.10.x releases: <a href="http://www.weatheringthroughtechdays.com/2015/04/mahout-010x-first-mahout-release-as.html">blog</a></li>
</ul>

<h2 id="distributed-methods-and-solvers-using-bindings">Distributed methods and solvers using Bindings</h2>

<ul>
  <li>In-core (<a href="https://github.com/apache/mahout/blob/trunk/math-scala/src/main/scala/org/apache/mahout/math/scalabindings/SSVD.scala">ssvd</a>) and Distributed (<a href="https://github.com/apache/mahout/blob/trunk/spark/src/main/scala/org/apache/mahout/sparkbindings/decompositions/DSSVD.scala">dssvd</a>) Stochastic SVD – guinea pigs – see the bindings manual</li>
  <li>In-core (<a href="https://github.com/apache/mahout/blob/trunk/math-scala/src/main/scala/org/apache/mahout/math/scalabindings/SSVD.scala">spca</a>) and Distributed (<a href="https://github.com/apache/mahout/blob/trunk/spark/src/main/scala/org/apache/mahout/sparkbindings/decompositions/DSPCA.scala">dspca</a>) Stochastic PCA – guinea pigs – see the bindings manual</li>
  <li>Distributed thin QR decomposition (<a href="https://github.com/apache/mahout/blob/trunk/spark/src/main/scala/org/apache/mahout/sparkbindings/decompositions/DQR.scala">dqrThin</a>) – guinea pig – see the bindings manual</li>
  <li><a href="https://mahout.apache.org/users/basics/algorithms.html">Current list of algorithms</a></li>
</ul>

<h2 id="related-history-of-note">Related history of note</h2>

<ul>
  <li>CLI and Driver for Spark version of item similarity – <a href="https://issues.apache.org/jira/browse/MAHOUT-1541">MAHOUT-1541</a></li>
  <li>Command line interface for generalizable Spark pipelines – <a href="https://issues.apache.org/jira/browse/MAHOUT-1569">MAHOUT-1569</a></li>
  <li>Cooccurrence Analysis / Item-based Recommendation – <a href="https://issues.apache.org/jira/browse/MAHOUT-1464">MAHOUT-1464</a></li>
  <li>Spark Bindings – <a href="https://issues.apache.org/jira/browse/MAHOUT-1346">MAHOUT-1346</a></li>
  <li>Scala Bindings – <a href="https://issues.apache.org/jira/browse/MAHOUT-1297">MAHOUT-1297</a></li>
  <li>Interactive Scala &amp; Spark Bindings Shell &amp; Script processor – <a href="https://issues.apache.org/jira/browse/MAHOUT-1489">MAHOUT-1489</a></li>
  <li>OLS tutorial using Mahout shell – <a href="https://issues.apache.org/jira/browse/MAHOUT-1542">MAHOUT-1542</a></li>
  <li>Full abstraction of DRM apis and algorithms from a distributed engine – <a href="https://issues.apache.org/jira/browse/MAHOUT-1529">MAHOUT-1529</a></li>
  <li>Port Naive Bayes – <a href="https://issues.apache.org/jira/browse/MAHOUT-1493">MAHOUT-1493</a></li>
</ul>

<h2 id="work-in-progress">Work in progress</h2>
<ul>
  <li>
    <p>Text-delimited files for input and output – <a href="https://issues.apache.org/jira/browse/MAHOUT-1568">MAHOUT-1568</a>
<!-- * Weighted (Implicit Feedback) ALS -- [MAHOUT-1365](https://issues.apache.org/jira/browse/MAHOUT-1365) -->
<!--* Data frame R-like bindings -- [MAHOUT-1490](https://issues.apache.org/jira/browse/MAHOUT-1490) --></p>
  </li>
  <li>
    <p><em>Your issue here!</em></p>
  </li>
</ul>

<!-- ## Stuff wanted: 
* Data frame R-like bindings (similarly to linalg bindings)
* Stat R-like bindings (perhaps we can just adapt to commons.math stat)
* **BYODMs:** Bring Your Own Distributed Method on SparkBindings! 
* In-core jBlas matrix adapter
* In-core GPU matrix adapters -->


                </div>
            </div>
        </div>
    </article>


    <footer class="site-footer">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <p class="text-muted">This text is footer text. Footer text goes here.</p>
                </div>
            </div>
        </div>
    </footer>

    </body>
</html>
